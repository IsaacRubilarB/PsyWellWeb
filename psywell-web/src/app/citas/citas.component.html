<app-navbar></app-navbar>

<div class="citas-container">
  <h1>Citas</h1>
  
  <!-- Mostrar las primeras 4 citas -->
  <div class="cita-list-wrapper">
    <div class="cita-list" *ngIf="citas.length > 0">
      <div class="cita-card" *ngFor="let cita of citas.slice(0, 4)" [ngClass]="cita.estado">
        <img [src]="cita.imagen" alt="Foto del paciente" class="cita-imagen">
        <div class="cita-info">
          <div class="cita-header">
            <h3>{{ cita.nombre }}</h3>
            <p class="cita-fecha">{{ cita.fecha }} - {{ cita.hora }}</p>
          </div>
          <h4>Resumen:</h4>
          <p>{{ cita.resumen }}</p>
        </div>

        <!-- Estado de la cita: Pendiente o Finalizada -->
        <div class="estado-hover pendiente" *ngIf="cita.estado === 'pendiente'">Pendiente</div>
        <div class="estado-hover finalizada" *ngIf="cita.estado === 'finalizada'">Finalizada</div>
      </div>
    </div>
  </div>
  
  <!-- Mostrar citas adicionales con scroll si existen mÃ¡s de 4 citas -->
  <div class="ver-mas-citas" *ngIf="citas.length > 4">
    <div class="cita-card" *ngFor="let cita of citas.slice(4)" [ngClass]="cita.estado">
      <img [src]="cita.imagen" alt="Foto del paciente" class="cita-imagen">
      <div class="cita-info">
        <div class="cita-header">
          <h3>{{ cita.nombre }}</h3>
          <p class="cita-fecha">{{ cita.fecha }} - {{ cita.hora }}</p>
        </div>
        <h4>Resumen:</h4>
        <p>{{ cita.resumen }}</p>
      </div>

      <!-- Estado de la cita: Pendiente o Finalizada -->
      <div class="estado-hover pendiente" *ngIf="cita.estado === 'pendiente'">Pendiente</div>
      <div class="estado-hover finalizada" *ngIf="cita.estado === 'finalizada'">Finalizada</div>
    </div>
  </div>
</div>

<!-- Calendar Integration Component debajo de las citas -->
<app-calendar-integration></app-calendar-integration>
