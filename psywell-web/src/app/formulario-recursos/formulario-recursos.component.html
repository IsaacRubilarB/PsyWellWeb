<form (ngSubmit)="submitForm()">
  <h2>Subir Nuevo Recurso</h2>

  <!-- Campo para seleccionar el tipo de recurso -->
  <label for="tipo">Tipo de Recurso</label>
  <select id="tipo" [(ngModel)]="tipoRecurso" name="tipo" (change)="onTipoRecursoChange()" required>
    <option value="">Selecciona un tipo</option>
    <option value="videos">Videos</option>
    <option value="libros">Libros</option>
    <option value="audios">Audios</option>
    <option value="foros">Foros</option>
  </select>

  <!-- Campo para el título -->
  <label for="titulo">Título</label>
  <input type="text" id="titulo" [(ngModel)]="titulo" name="titulo" required />

  <!-- Campo para el autor (visible solo para libros) -->
  <div *ngIf="tipoRecurso === 'libros'">
    <label for="autor">Autor</label>
    <input type="text" id="autor" [(ngModel)]="autor" name="autor" required />
  </div>

  <!-- Campo para la categoría (visible solo para libros) -->
  <div *ngIf="tipoRecurso === 'libros'">
    <label for="categoria">Categoría</label>
    <input type="text" id="categoria" [(ngModel)]="categoria" name="categoria" />
  </div>

  <!-- Campo para la descripción -->
  <label for="descripcion">Descripción</label>
  <textarea id="descripcion" [(ngModel)]="descripcion" name="descripcion" required></textarea>

  <!-- Campo condicional para el enlace de YouTube si se selecciona 'videos' -->
  <div *ngIf="tipoRecurso === 'videos'">
    <label for="videoUrl">Enlace de YouTube</label>
    <input
      type="url"
      id="videoUrl"
      [(ngModel)]="videoUrl"
      name="videoUrl"
      placeholder="https://www.youtube.com/watch?v=..."
      required
    />
  </div>

  <!-- Campo para archivo (visible solo para libros y audios) -->
  <div *ngIf="tipoRecurso === 'libros' || tipoRecurso === 'audios'">
    <label for="archivo">Archivo</label>
    <input type="file" id="archivo" (change)="onFileSelected($event)" required />
  </div>

  <!-- Selección de paciente con imagen de perfil -->
  <label for="paciente">Asignar a Paciente</label>
  <div class="pacientes-listado">
    <div
      *ngFor="let paciente of pacientes"
      class="paciente-card"
      [class.selected]="pacienteSeleccionado === paciente"
      (click)="pacienteSeleccionado = paciente"
    >
      <img [src]="paciente.imagen" alt="Imagen de {{ paciente.nombre }}" class="paciente-imagen" />
      <span>{{ paciente.nombre }}</span>
    </div>
  </div>

  <!-- Botón para enviar el formulario -->
  <button type="submit">Subir Recurso</button>
</form>
